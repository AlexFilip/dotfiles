#!/bin/sh

# Switch between emacs configs

CONFIG_NAME=${1:?Expected config name (basic, space, doom)}

SYMLINK_LOCATION="$HOME/.config/emacs"
case "$CONFIG_NAME" in
    basic)
        CONFIG_LOCATION="$HOME/.config/emacs-configs/basic-emacs"
        ;;

    space)
        CONFIG_LOCATION="$HOME/.config/spacemacs"
        ;;

    doom)
        CONFIG_LOCATION="$HOME/.config/doom-emacs"
        ;;

    *)
        echo "Unknown config '$CONFIG_NAME'" > /dev/stderr
        exit 1
esac

if [[ -h "$SYMLINK_LOCATION" ]]; then
    rm "$SYMLINK_LOCATION"
fi

ln -sf "$CONFIG_LOCATION" "$SYMLINK_LOCATION"
